{"ast":null,"code":"var _jsxFileName = \"/Users/gunner/Documents/GitHub/commutr-main/commutr/frontend/src/components/AddressBox.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useMemo } from \"react\";\nimport { GoogleMap, Marker } from \"@react-google-maps/api\";\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from \"use-places-autocomplete\";\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from \"@reach/combobox\";\nimport \"@reach/combobox/styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddressBox = () => {\n  _s();\n\n  const {\n    ready,\n    value,\n    setValue,\n    suggestions: {\n      status,\n      data\n    },\n    clearSuggestions\n  } = usePlacesAutocomplete();\n\n  const handleSelect = async address => {\n    setValue(address, false);\n    clearSuggestions();\n    const results = await getGeocode({\n      address\n    });\n    const {\n      lat,\n      lng\n    } = await getLatLng(results[0]);\n    console.log(results, lat, lng);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Combobox, {\n      onSelect: handleSelect,\n      children: [/*#__PURE__*/_jsxDEV(ComboboxInput, {\n        value: value,\n        onChange: e => setValue(e.target.value),\n        disabled: !ready,\n        className: \"combobox-input\",\n        placeholder: \"Search an address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ComboboxPopover, {\n        children: /*#__PURE__*/_jsxDEV(ComboboxList, {\n          children: status === \"OK\" && data.map(_ref => {\n            let {\n              place_id,\n              description\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(ComboboxOption, {\n              value: description\n            }, place_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 75\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n\n_s(AddressBox, \"/u8E+PR9W+yUlWC2O5cLKgUp250=\", false, function () {\n  return [usePlacesAutocomplete];\n});\n\n_c = AddressBox;\nexport default AddressBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddressBox\");","map":{"version":3,"sources":["/Users/gunner/Documents/GitHub/commutr-main/commutr/frontend/src/components/AddressBox.js"],"names":["useState","useMemo","GoogleMap","Marker","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","AddressBox","ready","value","setValue","suggestions","status","data","clearSuggestions","handleSelect","address","results","lat","lng","console","log","e","target","map","place_id","description"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,OAAlB,QAAgC,OAAhC;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,wBAAlC;AACA,OAAOC,qBAAP,IACIC,UADJ,EAEIC,SAFJ,QAGO,yBAHP;AAIA,SACIC,QADJ,EAEIC,aAFJ,EAGIC,eAHJ,EAIIC,YAJJ,EAKIC,cALJ,QAMO,iBANP;AAOA,OAAO,4BAAP;;;AAMA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AAErB,QAAM;AACFC,IAAAA,KADE;AAEFC,IAAAA,KAFE;AAGFC,IAAAA,QAHE;AAIFC,IAAAA,WAAW,EAAE;AAACC,MAAAA,MAAD;AAASC,MAAAA;AAAT,KAJX;AAKFC,IAAAA;AALE,MAMFf,qBAAqB,EANzB;;AAQA,QAAMgB,YAAY,GAAG,MAAOC,OAAP,IAAmB;AACpCN,IAAAA,QAAQ,CAACM,OAAD,EAAU,KAAV,CAAR;AACAF,IAAAA,gBAAgB;AAEhB,UAAMG,OAAO,GAAG,MAAMjB,UAAU,CAAC;AAACgB,MAAAA;AAAD,KAAD,CAAhC;AACA,UAAM;AAACE,MAAAA,GAAD;AAAMC,MAAAA;AAAN,QAAa,MAAMlB,SAAS,CAACgB,OAAO,CAAC,CAAD,CAAR,CAAlC;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EAAqBC,GAArB,EAA0BC,GAA1B;AACH,GAPD;;AASA,sBAAO;AAAA,2BACH,QAAC,QAAD;AAAU,MAAA,QAAQ,EAAEJ,YAApB;AAAA,8BACA,QAAC,aAAD;AACA,QAAA,KAAK,EAAEN,KADP;AAEA,QAAA,QAAQ,EAAGa,CAAC,IAAIZ,QAAQ,CAACY,CAAC,CAACC,MAAF,CAASd,KAAV,CAFxB;AAGA,QAAA,QAAQ,EAAE,CAACD,KAHX;AAIA,QAAA,SAAS,EAAC,gBAJV;AAKA,QAAA,WAAW,EAAC;AALZ;AAAA;AAAA;AAAA;AAAA,cADA,eAQA,QAAC,eAAD;AAAA,+BACI,QAAC,YAAD;AAAA,oBACKI,MAAM,KAAK,IAAX,IAAmBC,IAAI,CAACW,GAAL,CAAS;AAAA,gBAAC;AAACC,cAAAA,QAAD;AAAWC,cAAAA;AAAX,aAAD;AAAA,gCAA6B,QAAC,cAAD;AAAgC,cAAA,KAAK,EAAEA;AAAvC,eAAsBD,QAAtB;AAAA;AAAA;AAAA;AAAA,oBAA7B;AAAA,WAAT;AADxB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cARA;AAAA;AAAA;AAAA;AAAA;AAAA;AADG;AAAA;AAAA;AAAA;AAAA,UAAP;AAgBH,CAnCD;;GAAMlB,U;UAQER,qB;;;KARFQ,U;AAoCN,eAAeA,UAAf","sourcesContent":["import {useState, useMemo} from \"react\";\nimport { GoogleMap, Marker } from \"@react-google-maps/api\"\nimport usePlacesAutocomplete, {\n    getGeocode,\n    getLatLng,\n} from \"use-places-autocomplete\";\nimport {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption,\n} from \"@reach/combobox\";\nimport \"@reach/combobox/styles.css\"\n\n\n\n\n\nconst AddressBox = () => {\n    \n    const {\n        ready,\n        value,\n        setValue,\n        suggestions: {status, data},\n        clearSuggestions,\n    } = usePlacesAutocomplete();\n    \n    const handleSelect = async (address) => {\n        setValue(address, false);\n        clearSuggestions();\n    \n        const results = await getGeocode({address});\n        const {lat, lng} = await getLatLng(results[0]);\n        console.log(results, lat, lng);\n    }\n    \n    return <div> \n        <Combobox onSelect={handleSelect}>\n        <ComboboxInput\n        value={value}\n        onChange={ e => setValue(e.target.value)}\n        disabled={!ready}\n        className=\"combobox-input\"\n        placeholder=\"Search an address\"\n        />\n        <ComboboxPopover>\n            <ComboboxList>\n                {status === \"OK\" && data.map(({place_id, description}) => <ComboboxOption key= {place_id} value={description} />)}\n            </ComboboxList>\n        </ComboboxPopover>\n    </Combobox>\n    </div>;\n}\nexport default AddressBox"]},"metadata":{},"sourceType":"module"}