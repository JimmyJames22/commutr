{"ast":null,"code":"import { forwardRef, createElement, useRef, useEffect } from 'react';\nimport { Portal } from '@reach/portal';\nimport { useRect } from '@reach/rect';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport tabbable from 'tabbable';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"unstable_skipInitialPortalRender\"],\n    _excluded2 = [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"]; ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Popover\n */\n\nvar Popover = /*#__PURE__*/forwardRef(function Popover(_ref, ref) {\n  var unstable_skipInitialPortalRender = _ref.unstable_skipInitialPortalRender,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return /*#__PURE__*/createElement(Portal, {\n    unstable_skipInitialRender: unstable_skipInitialPortalRender\n  }, /*#__PURE__*/createElement(PopoverImpl, _extends({\n    ref: ref\n  }, props)));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * PopoverImpl\n *\n * Popover is conditionally rendered so we can't start measuring until it shows\n * up, so useRect needs to live down here not up in Popover\n */\n\n\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref2, forwardedRef) {\n  var _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"div\" : _ref2$as,\n      targetRef = _ref2.targetRef,\n      _ref2$position = _ref2.position,\n      position = _ref2$position === void 0 ? positionDefault : _ref2$position,\n      _ref2$unstable_observ = _ref2.unstable_observableRefs,\n      unstable_observableRefs = _ref2$unstable_observ === void 0 ? [] : _ref2$unstable_observ,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  var popoverRef = useRef(null);\n  var popoverRect = useRect(popoverRef, {\n    observe: !props.hidden\n  });\n  var targetRect = useRect(targetRef, {\n    observe: !props.hidden\n  });\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\n  return {\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions.directionRight,\n      directionUp = _getCollisions.directionUp;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions2.directionLeft,\n      directionUp = _getCollisions2.directionUp;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions3.directionUp;\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = getOwnerDocument(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  useEffect(function () {\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = tabbable(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable(popoverRef.current);\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return event.target === tabbable(ownerDocument)[0];\n  }\n\n  var restoreTabIndexTuplés = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTuplés.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTuplés.forEach(function (_ref3) {\n      var element = _ref3[0],\n          tabIndex = _ref3[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nexport default Popover;\nexport { Popover, getCollisions, positionDefault, positionMatchWidth, positionRight };","map":{"version":3,"sources":["/Users/gunner/Documents/GitHub/commutr-main/commutr/frontend/node_modules/@reach/popover/dist/reach-popover.esm.js"],"names":["forwardRef","createElement","useRef","useEffect","Portal","useRect","getOwnerDocument","useComposedRefs","tabbable","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded","_excluded2","Popover","_ref","ref","unstable_skipInitialPortalRender","props","unstable_skipInitialRender","PopoverImpl","process","env","NODE_ENV","displayName","_ref2","forwardedRef","_ref2$as","as","Comp","targetRef","_ref2$position","position","positionDefault","_ref2$unstable_observ","unstable_observableRefs","popoverRef","popoverRect","observe","hidden","targetRect","useSimulateTabNavigationForReactTree","style","getStyles","concat","_len","Array","_key","map","current","visibility","getTopPosition","isDirectionUp","top","height","window","pageYOffset","_getCollisions","getCollisions","directionRight","directionUp","left","right","width","pageXOffset","positionRight","_getCollisions2","directionLeft","positionMatchWidth","_getCollisions3","offsetLeft","offsetBottom","collisions","innerWidth","bottom","innerHeight","directionDown","triggerRef","ownerDocument","handleKeyDown","event","shiftKey","shiftTabbedFromElementAfterTrigger","focusLastTabbableInPopover","shiftTabbedOutOfPopover","focusTriggerRef","shiftTabbedToBrowserChrome","disableTabbablesInPopover","tabbedFromTriggerToPopover","focusFirstPopoverTabbable","tabbedOutOfPopover","focusTabbableAfterTrigger","tabbedToBrowserChrome","addEventListener","removeEventListener","getElementAfterTrigger","elements","targetIndex","elementAfterTrigger","contains","activeElement","preventDefault","focus","inPopover","Boolean","last","_triggerRef$current","filter","element","restoreTabIndexTuplés","forEach","push","tabIndex","enableTabbablesInPopover","_ref3"],"mappings":"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","sourcesContent":["import { forwardRef, createElement, useRef, useEffect } from 'react';\nimport { Portal } from '@reach/portal';\nimport { useRect } from '@reach/rect';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport tabbable from 'tabbable';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"unstable_skipInitialPortalRender\"],\n    _excluded2 = [\"as\", \"targetRef\", \"position\", \"unstable_observableRefs\"];\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Popover\n */\nvar Popover = /*#__PURE__*/forwardRef(function Popover(_ref, ref) {\n  var unstable_skipInitialPortalRender = _ref.unstable_skipInitialPortalRender,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return /*#__PURE__*/createElement(Portal, {\n    unstable_skipInitialRender: unstable_skipInitialPortalRender\n  }, /*#__PURE__*/createElement(PopoverImpl, _extends({\n    ref: ref\n  }, props)));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * PopoverImpl\n *\n * Popover is conditionally rendered so we can't start measuring until it shows\n * up, so useRect needs to live down here not up in Popover\n */\n\n\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref2, forwardedRef) {\n  var _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"div\" : _ref2$as,\n      targetRef = _ref2.targetRef,\n      _ref2$position = _ref2.position,\n      position = _ref2$position === void 0 ? positionDefault : _ref2$position,\n      _ref2$unstable_observ = _ref2.unstable_observableRefs,\n      unstable_observableRefs = _ref2$unstable_observ === void 0 ? [] : _ref2$unstable_observ,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  var popoverRef = useRef(null);\n  var popoverRect = useRect(popoverRef, {\n    observe: !props.hidden\n  });\n  var targetRect = useRect(targetRef, {\n    observe: !props.hidden\n  });\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return /*#__PURE__*/createElement(Comp, _extends({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect, isDirectionUp) {\n  return {\n    top: isDirectionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions.directionRight,\n      directionUp = _getCollisions.directionUp;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions2.directionLeft,\n      directionUp = _getCollisions2.directionUp;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions3.directionUp;\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect, directionUp));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = getOwnerDocument(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  useEffect(function () {\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = tabbable(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable(popoverRef.current);\n      return Boolean(elements && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) == null ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return event.target === tabbable(ownerDocument)[0];\n  }\n\n  var restoreTabIndexTuplés = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTuplés.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTuplés.forEach(function (_ref3) {\n      var element = _ref3[0],\n          tabIndex = _ref3[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default Popover;\nexport { Popover, getCollisions, positionDefault, positionMatchWidth, positionRight };\n"]},"metadata":{},"sourceType":"module"}